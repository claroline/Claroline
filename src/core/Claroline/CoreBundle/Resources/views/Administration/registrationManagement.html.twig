{% extends "ClarolineCoreBundle:Administration:layout.html.twig" %}

{% block javascripts %}
    {{ parent() }}
    <script
        src='{{ asset('bundles/clarolinecore/js/administration/registrationManagement.js') }}'
        type="text/javascript"
    >
    </script>
    <script
        src="{{ asset('bundles/clarolinecore/js/workspace/workspace_list_registration.js') }}"
        type="text/javascript"
    >
    </script>
{% endblock %}

{% block section_content %}
    <div id="workspace-list-div" class="margin">
        {{
            macros.breadcrumbs([
                {
                    'icon': 'icon-book',
                    'name':'registration_to_workspaces'|trans({}, 'platform'),
                    'href':'#'
                }
            ])
        }}

        <h1>{{ 'select_workspaces_for_registration'|trans({}, 'platform') }}</h1>

        <div class="search-bar">
            <button
                class="btn btn-secondary subscribe-user-button"
                subject-type="user"
                disabled="disabled"
            >
                {{ 'subscribe_users'|trans({}, 'platform') }}
            </button>
            <button
                class="btn btn-secondary subscribe-group-button"
                subject-type="group"
                disabled="disabled"
            >
                {{ 'subscribe_groups'|trans({}, 'platform') }}
            </button>
            <div class="input-append pull-right">
                <input
                    class="input-medium"
                    type="text"
                    id="search-workspace-txt"
                    placeholder="{{ 'search'|trans({}, 'platform') }}"
                >
                <button class="filter btn" type="button" id="search-workspace-button">
                    <i class="icon-search"></i>
                </button>
            </div>
        </div>

        {% if search == '' %}
            <div id="search-mode" search=""></div>
            {% include 'ClarolineCoreBundle:Administration:registrationManagementCompleteWorkspacesList.html.twig' %}
        {% else %}
            <div id="search-mode" search="{{ search }}"></div>
            {% include 'ClarolineCoreBundle:Workspace:workspaceSearchedListRegistrationPager.html.twig' %}
        {% endif %}

        <br>
        <button
            class="btn btn-secondary subscribe-user-button"
            subject-type="user"
            disabled="disabled"
        >
            {{ 'subscribe_users'|trans({}, 'platform') }}
        </button>
        <button
            class="btn btn-secondary subscribe-group-button"
            subject-type="group"
            disabled="disabled"
        >
            {{ 'subscribe_groups'|trans({}, 'platform') }}
        </button>
    </div>
{% endblock %}