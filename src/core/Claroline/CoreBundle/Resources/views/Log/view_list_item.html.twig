<style type="text/css">
    .log_list_item {
        font-size: 12px;
    }
</style>

{% if isDesktop %}
    <div class="span2 log_list_item">
        {% include 'ClarolineCoreBundle:Log:view_list_item_workspace.html.twig' %}
    </div>
{% endif %}

<div class="span2 log_list_item">
    {% if log.getDateLog()|date('d-m-Y') == ''|date('d-m-Y') %}
        {{ 'today'|trans({}, 'platform') ~ ', ' }}
    {% else %}
        {{ log.getDateLog()|date('d-m-Y') ~ ', ' }}
    {% endif %}
    {{ log.getDateLog()|date('H:i') }}
</div>

<div class="span2 log_list_item">
    {% include 'ClarolineCoreBundle:Log:view_list_item_label.html.twig' %}
</div>

<div class="span2 log_list_item">
    {% include 'ClarolineCoreBundle:Log:view_list_item_doer.html.twig' %}
</div>

{% if isDesktop %}
    <div class='span4 log_list_item'>
{% else %}
    <div class='span6 log_list_item'>
{% endif %}
    {% if listItemView is defined and listItemView != null %}
        {{ listItemView|raw }}
    {% else %}
        {% set resource %}
            {% include 'ClarolineCoreBundle:Log:view_list_item_resource.html.twig' %}
        {% endset %}
        {% set receiver_user %}
            {% include 'ClarolineCoreBundle:Log:view_list_item_receiver_user.html.twig' %}
        {% endset %}
        {% set receiver_group %}
            {% include 'ClarolineCoreBundle:Log:view_list_item_receiver_group.html.twig' %}
        {% endset %}
        {% set role %}
            {% include 'ClarolineCoreBundle:Log:view_list_item_role.html.twig' %}
        {% endset %}
        {% set workspace %}
            {% include 'ClarolineCoreBundle:Log:view_list_item_workspace.html.twig' %}
        {% endset %}
        {% set tool %}
            {% include 'ClarolineCoreBundle:Log:view_list_item_tool.html.twig' %}
        {% endset %}

        {{ ('log_' ~ log.getAction() ~ '_sentence')|trans(
            {
                '%resource%': resource,
                '%receiver_user%': receiver_user,
                '%receiver_group%': receiver_group,
                '%role%': role,
                '%workspace%': workspace,
                '%tool%': tool
            },
            'platform'
        )|raw }}
    {% endif %}
</div>
{#
    <h3>{{ log.id }} {{ log.getDetails()|json_encode|raw }}</h3>
#}
