services:
    UJM\ExoBundle\Library\Attempt\PaperGenerator:
        arguments:
           - '@ujm_exo.serializer.exercise'
           - '@ujm_exo.serializer.step'
           - '@ujm_exo.serializer.item'

    ujm_exo.generator.paper:
         alias: UJM\ExoBundle\Library\Attempt\PaperGenerator
         public: true

    UJM\ExoBundle\Library\Item\ItemDefinitionsCollection: ~

    ujm_exo.collection.item_definitions:
        alias: UJM\ExoBundle\Library\Item\ItemDefinitionsCollection
        public: true

    UJM\ExoBundle\Library\Json\JsonSchema:
        arguments:
            - '%kernel.project_dir%'

    # Item types
    UJM\ExoBundle\Library\Item\Definition\WordsDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\WordsQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\WordsAnswerValidator'
           - '@ujm_exo.serializer.question_words'

    UJM\ExoBundle\Library\Item\Definition\SetDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\SetQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\SetAnswerValidator'
           - '@ujm_exo.serializer.question_set'

    UJM\ExoBundle\Library\Item\Definition\PairDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\PairQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\PairAnswerValidator'
           - '@ujm_exo.serializer.question_pair'

    UJM\ExoBundle\Library\Item\Definition\OrderingDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\OrderingQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\OrderingAnswerValidator'
           - '@ujm_exo.serializer.question_ordering'

    UJM\ExoBundle\Library\Item\Definition\OpenDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\OpenQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\OpenAnswerValidator'
           - '@ujm_exo.serializer.question_open'

    UJM\ExoBundle\Library\Item\Definition\MatchDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\MatchQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\MatchAnswerValidator'
           - '@ujm_exo.serializer.question_match'

    UJM\ExoBundle\Library\Item\Definition\GridDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\GridQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\GridAnswerValidator'
           - '@ujm_exo.serializer.question_grid'

    UJM\ExoBundle\Library\Item\Definition\GraphicDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\GraphicQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\GraphicAnswerValidator'
           - '@ujm_exo.serializer.question_graphic'

    UJM\ExoBundle\Library\Item\Definition\ContentItemDefinition:
        tags: [ujm_exo.definition.content_item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\ContentItemValidator'
           - '@ujm_exo.serializer.item_content'

    UJM\ExoBundle\Library\Item\Definition\ClozeDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\ClozeQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\ClozeAnswerValidator'
           - '@ujm_exo.serializer.question_cloze'

    UJM\ExoBundle\Library\Item\Definition\ChoiceDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\ChoiceQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\ChoiceAnswerValidator'
           - '@ujm_exo.serializer.question_choice'

    UJM\ExoBundle\Library\Item\Definition\BooleanDefinition:
        tags: [ujm_exo.definition.item]
        arguments:
           - '@UJM\ExoBundle\Validator\JsonSchema\Item\Type\BooleanQuestionValidator'
           - '@UJM\ExoBundle\Validator\JsonSchema\Attempt\AnswerData\BooleanAnswerValidator'
           - '@ujm_exo.serializer.question_boolean'
