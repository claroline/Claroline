/*
 * Forms.
 */

.data-form {
    flex: 1 0 auto; // to fill page if needed
    display: flex;
    flex-direction: column;
    justify-content: stretch;
}

.data-form-flush {
    > .form-primary-section {
        padding: $modal-inner-padding;

        + .form-primary-section {
            border-top: 1px solid $accordion-border-width solid $accordion-border-color;;
        }

        + .form-sections {
            border-top: 1px solid $accordion-border-width solid $accordion-border-color;;
        }
    }
}

.form-mode {
    display: flex;
    align-items: center;
    justify-content: flex-end;

    .btn-link {
        font-weight: bold;
    }
}


// -
// Errors & messages
// ---

// @deprecated
.help-block-list {
    margin: 0;
    padding: 0;
}

// @deprecated
.help-block {
    text-align: justify;

    padding-left: $padding-base-horizontal + 1px; // keep alignment with error blocks
    margin-bottom: 0; // top margin is sufficient to stack and bottom margin add spacing in some cases

    // Just expose some vars as bootstrap doesn't do it
    color: $help-block-color;
    font-size: $help-block-font-size;

    .help-icon {
        width: 20px - $icon-text-spacer; // small cheat to have the same spacing than checkbox (currently 20px)
        text-align: center;
        margin-right: $icon-text-spacer;
    }
}

.error-block {
    padding: map-get($spacers, 1) map-get($spacers, 2);
    border: 1px solid transparent;
    border-radius: $border-radius-sm;

    @include border-radius($border-radius-sm);
}

.error-block-warning,
.has-warning .error-block {
    color: $state-warning-text;
    background: $state-warning-bg;
    border-color: $state-warning-border;
}

.error-block-danger,
.has-error .error-block {
    color: $state-danger-text;
    background: $state-danger-bg;
    border-color: $state-danger-border;
}

.validation-status {
    cursor: help;
    margin: 0 $padding-base-horizontal;
}

.has-warning .empty-placeholder {
    color: $state-warning-text;
    border-color: $state-warning-text;
}

.has-error .empty-placeholder {
    color: $state-danger-text;
    border-color: $state-danger-text;
}


// -
// Multi steps Forms.
// ---

.form-stepper {
    .progress + .h-title {
        margin-top: calc($line-height-computed - 4px); // 4px is to absorb progress bar height
    }
}

.form-stepper-footer {
    text-align: right;

    .btn + .btn {
        margin-left: 5px;
    }

    .btn-next {
        min-width: 240px;
    }
}


// -
// Fieldset
// ---

.sub-fields {
    padding-left: calc(map-get($spacers, 3) - 2px);
    border-left: 2px solid $input-border-color;

    @include border-bottom-start-radius($input-border-radius);
}


// -
// Buttons
// ---

.form-toolbar {
    bottom: map-get($spacers, 3);
    z-index: $zindex-dropdown - 1;

    .btn {
        width: 5rem;
        height: 5rem;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        font-size: $h2-font-size;

        @include box-shadow($box-shadow);


        &:first-child {
            margin-left: auto;
        }
    }

    .btn-cancel {
        // outline btns have transparent background
        // this will avoid seeing trough the button when it overlaps the content
        background: $body-bg;
    }
}


// -
// Utilities
// ---

// Utility class to avoid extra space after a form.
// meant to be used on a `.form-group`
// @deprecated
.form-last {
    margin-bottom: 0 !important;
}

// @deprecated
.input-placeholder {
    color: $input-placeholder-color;
}
