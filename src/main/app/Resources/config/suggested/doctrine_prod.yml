doctrine:
    dbal:
        default_connection: default
        connections:
            default:
                server_version: "%database_version%"
                driver:         "%database_driver%"
                host:           "%database_host%"
                dbname:         "%database_name%"
                user:           "%database_user%"
                password:       "%database_password%"
                port:           "%database_port%"
                charset:        utf8mb4
                default_table_options:
                    charset: utf8mb4
                    collation: utf8mb4_unicode_ci
                    engine: InnoDB

            messenger:
                server_version: "%database_version%"
                driver: "%database_driver%"
                host: "%database_host%"
                dbname: "%database_name%"
                user: "%database_user%"
                password: "%database_password%"
                port: "%database_port%"
                charset: utf8mb4
                default_table_options:
                    charset: utf8mb4
                    collation: utf8mb4_unicode_ci
                    engine: InnoDB

    orm:
        auto_generate_proxy_classes: '%kernel.debug%'
        enable_lazy_ghost_objects: true
        report_fields_where_declared: true
        auto_mapping: true
        validate_xml_mapping: true
        proxy_dir: '%kernel.build_dir%/doctrine/orm/Proxies'
        controller_resolver:
            auto_mapping: false # feature is deprecated, so just disable it

        metadata_cache_driver:
            type: pool
            pool: doctrine.system_cache_pool
        query_cache_driver:
            type: pool
            pool: doctrine.system_cache_pool
        result_cache_driver:
            type: pool
            pool: doctrine.result_cache_pool
        #mappings:
        #    StofDoctrineExtensionsBundle: false