@use "sass:math";

.embedded-resource {
    // removes floating form buttons when embedded (will overlaps the one from the main page if any)
    .form-toolbar {
        text-align: right;
        position: static !important;
    }
}

.resource-user-progression {
    .gauge {
        border-radius: 50%;
    }

    &.open .dropdown-toggle {
        box-shadow: none;

        .gauge {
            box-shadow: 0 0 5px $brand-secondary;
        }
    }

    .dropdown-menu {
        padding: 0;
        width: $popover-max-width;
        margin-top: 15px;
    }

    .dropdown-menu-header {
        padding: $list-group-item-padding-v $list-group-item-padding-h;

        margin: 0;
        display: flex;
        align-items: center;

        > .fa {
            display: flex;
            flex-shrink: 0;
            align-items: center;
            justify-content: center;

            color: white;
            font-size: 26px;
            width: 56px;
            height: 56px;
            border-radius: 50%;

            margin-right: 15px;

            background: $gray;

            &.ended {
                background: $brand-success;
            }

            &.failed {
                background: $brand-danger;
            }

            &.in-progress {
                background: $brand-info;
            }

            &.incomplete {
                background: $brand-warning;
            }
        }
    }

    // mostly the same than `.content-counter`
    .list-group-item {
        display: flex;
        align-items: center;

        > .fa {
            display: flex;
            flex-shrink: 0;
            align-items: center;
            justify-content: center;

            color: white;
            font-size: 16px;
            width: 38px;
            height: 38px;
            border-radius: 50%;

            margin-left: 9px;
            margin-right: 15px + 9px;
        }

        h5 {
            margin: 0;
            font-weight: 900;
        }

        small {
            display: block;
            margin-bottom: 5px;
        }
    }
}

.resource-overview {
    .resource-feedbacks {
        margin-top: $component-margin-bottom;
    }
}

.overview-user-actions {
    margin-top: $component-margin-bottom;
    margin-bottom: $component-margin-bottom;

    .alert,
    .btn {
        margin-bottom: 0;
        //padding: $padding-large-vertical $padding-large-horizontal;

        + .alert,
        + .btn {
            margin-top: 5px;
        }
    }
}


.resource-end {
    margin-top: $component-margin-bottom;
}

/**
 * Resource rights modal.
 */

.resource-rights-simple {
    padding: $modal-inner-padding;

    .resource-rights-simple-group {
        display: flex;
        justify-content: space-around;
        align-items: stretch;
    }

    .simple-right {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: floor(math.div($grid-gutter-width, 2));
        color: $gray-light;
        border: none;
        border-radius: $border-radius-base;
        background: $modal-content-bg;

        &:focus,
        &:hover,
        &:active {
            color: $gray-light;
            background: $gray-lightest;
            box-shadow: none;
        }

        &.selected {
            font-weight: bold;
            background: $gray-lightest;
        }

        & + .simple-right {
            margin-left: 5px;
        }
    }

    .simple-right-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 10px;
        margin-bottom: floor(math.div($grid-gutter-width, 2));
        font-size: 40px;
        width: 80px;
        height: 80px;
        border: 2px solid $gray-light;
        border-radius: $border-radius-base;
    }

    .simple-right-label {
        font-size: $font-size-small;
        display: block;
        white-space: normal;
        max-width: 100%;
    }
}

.resource-custom-rules-info {
    color: $brand-danger;
    margin-top: $component-margin-bottom;
    margin-bottom: 0;

    .fa {
        margin-right: $icon-text-spacer;
    }
}

// not the correct place to declare the next rules

/*.user-progression-status {
    font-weight: bold;
}*/

.workspace-evaluation-card,
.resource-evaluation-card {
    .workspace-evaluation-details,
    .resource-evaluation-details {
        display: flex;

        // mostly the same than `.content-counter`
        article {
            display: flex;
            align-items: center;
            margin-bottom: $data-card-padding;

            > .fa {
                display: flex;
                flex-shrink: 0;
                align-items: center;
                justify-content: center;

                color: white;
                font-size: $font-size-small;
                width: 30px;
                height: 30px;
                border-radius: 50%;

                margin-left: $data-card-padding;
                margin-right: $data-card-padding;
            }

            h5 {
                margin: 0;
                font-weight: 900;
            }

            small {
                display: block;
                margin-bottom: 5px;
            }
        }
    }
}
