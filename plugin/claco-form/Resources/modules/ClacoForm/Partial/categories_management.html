<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">
            {{ 'categories_management'|trans:{}:'clacoform' }}
            <div class="btn-group pull-right" uib-dropdown ng-if="cfc.canEdit()">
                <button class="btn btn-default btn-sm" uib-dropdown-toggle>
                    <i class="fa fa-cogs"></i>
                    <i class="fa fa-caret-down"></i>
                </button>
                <ul class="dropdown-menu" uib-dropdown-menu role="menu">
                    <li role="menuitem">
                        <a ui-sref="menu">
                            {{ 'main_menu'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="entry_creation">
                            {{ 'add_entry'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="entries_list">
                            {{ 'entries_list'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="general_configuration">
                            {{ 'general_configuration'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="fields_management">
                            {{ 'fields_management'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="template_management">
                            {{ 'template_management'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <!--<li role="menuitem">-->
                        <!--<a ui-sref="votes_management">-->
                            <!--{{ 'votes_management'|trans:{}:'clacoform' }}-->
                        <!--</a>-->
                    <!--</li>-->
                    <li role="menuitem">
                        <a ui-sref="keywords_management">
                            {{ 'keywords_management'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                </ul>
            </div>
        </h3>
    </div>
    <div class="panel-body">
        <div ng-if="cfc.canEdit()">
            <div class="table-responsive" ng-if="cfc.categories.length > 0">
                <table class="table" ng-table="cfc.tableParams" show-filter="true">
                    <tr ng-repeat="category in $data">
                        <td data-title="'name'|trans:{}:'platform'" filter="{name: 'text'}" sortable="'name'">
                            <i class="fa fa-circle" ng-style="{'color': category['details']['color']}" ng-if="category['details']['color']"></i>
                            {{ category['name'] }}
                        </td>
                        <td class="text-center" data-title="'managers'|trans:{}:'clacoform'" filter="{managersName: 'text'}" sortable="'managersName'">
                            {{ category['managersName'] }}
                        </td>
                        <td class="text-center" data-title="'addition'|trans:{}:'clacoform'" sortable="'details.notify_addition'">
                            <i class="fa fa-check text-success" ng-if="category['details']['notify_addition']"></i>
                            <i class="fa fa-times text-danger" ng-if="!category['details']['notify_addition']"></i>
                        </td>
                        <td class="text-center" data-title="'edition'|trans:{}:'clacoform'" sortable="'details.notify_edition'">
                            <i class="fa fa-check text-success" ng-if="category['details']['notify_edition']"></i>
                            <i class="fa fa-times text-danger" ng-if="!category['details']['notify_edition']"></i>
                        </td>
                        <td class="text-center" data-title="'removal'|trans:{}:'clacoform'" sortable="'details.notify_removal'">
                            <i class="fa fa-check text-success" ng-if="category['details']['notify_removal']"></i>
                            <i class="fa fa-times text-danger" ng-if="!category['details']['notify_removal']"></i>
                        </td>
                        <td class="text-center" data-title="'comment'|trans:{}:'platform'" sortable="'details.notify_pending_comment'">
                            <i class="fa fa-check text-success" ng-if="category['details']['notify_pending_comment']"></i>
                            <i class="fa fa-times text-danger" ng-if="!category['details']['notify_pending_comment']"></i>
                        </td>
                        <td class="text-center" data-title="'actions'|trans:{}:'platform'">
                            <button class="btn btn-default btn-sm" ng-click="cfc.editCategory(category)">
                                <i class="fa fa-pencil"></i>
                            </button>
                            <button class="btn btn-danger btn-sm" ng-click="cfc.deleteCategory(category)">
                                <i class="fa fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="alert alert-warning" ng-if="cfc.categories.length === 0">
                {{ 'no_category'|trans:{}:'clacoform' }}
            </div>
            <button class="btn btn-primary" ng-click="cfc.createCategory()">
                <i class="fa fa-plus"></i>
                {{ 'create_a_category'|trans:{}:'clacoform' }}
            </button>
        </div>
        <div class="alert alert-danger" ng-if="!cfc.canEdit()">
            {{ 'unauthorized'|trans:{}:'platform' }}
        </div>
    </div>
</div>