<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">
            {{ 'fields_management'|trans:{}:'clacoform' }}
            <div class="btn-group pull-right" uib-dropdown ng-if="cfc.canEdit()">
                <button class="btn btn-default btn-sm" uib-dropdown-toggle>
                    <i class="fa fa-cogs"></i>
                    <i class="fa fa-caret-down"></i>
                </button>
                <ul class="dropdown-menu" uib-dropdown-menu role="menu">
                    <li role="menuitem">
                        <a ui-sref="menu">
                            {{ 'main_menu'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="entry_creation">
                            {{ 'add_entry'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="entries_list">
                            {{ 'entries_list'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="general_configuration">
                            {{ 'general_configuration'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="template_management">
                            {{ 'template_management'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <!--<li role="menuitem">-->
                        <!--<a ui-sref="votes_management">-->
                            <!--{{ 'votes_management'|trans:{}:'clacoform' }}-->
                        <!--</a>-->
                    <!--</li>-->
                    <li role="menuitem">
                        <a ui-sref="categories_management">
                            {{ 'categories_management'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                    <li role="menuitem">
                        <a ui-sref="keywords_management">
                            {{ 'keywords_management'|trans:{}:'clacoform' }}
                        </a>
                    </li>
                </ul>
            </div>
        </h3>
    </div>
    <div class="panel-body">
        <div ng-if="cfc.canEdit()">
            <div class="table-responsive" ng-if="cfc.fields.length > 0">
                <table class="table" ng-table="cfc.tableParams" show-filter="true">
                    <tr ng-repeat="field in $data">
                        <td data-title="'name'|trans:{}:'platform'" filter="{name: 'text'}" sortable="'name'">
                            <i class="fa fa-eye-slash"
                               data-toggle="tooltip"
                               data-placement="top"
                               title="{{ 'hidden_field'|trans:{}:'clacoform' }}"
                               ng-if="field['hidden']"
                            >
                            </i>
                            {{ field['name'] }}
                        </td>
                        <td class="text-center" data-title="'type'|trans:{}:'platform'" filter="{typeName: 'text'}" sortable="'typeName'">
                            {{ field['typeName'] }}
                        </td>
                        <td class="text-center" data-title="'mandatory'|trans:{}:'clacoform'" sortable="'required'">
                            <i class="fa fa-check text-success" ng-if="field['required']"></i>
                            <i class="fa fa-times text-danger" ng-if="!field['required']"></i>
                        </td>
                        <td class="text-center" data-title="'metadata'|trans:{}:'clacoform'" sortable="'isMetadata'">
                            <i class="fa fa-check text-success" ng-if="field['isMetadata']"></i>
                            <i class="fa fa-times text-danger" ng-if="!field['isMetadata']"></i>
                        </td>
                        <td class="text-center" data-title="'locked'|trans:{}:'platform'" sortable="'locked'">
                            <i class="fa fa-lock"
                               ng-if="field['locked'] && !field['lockedEditionOnly']"
                               data-toggle="tooltip"
                               data-placement="top"
                               title="{{ 'locked'|trans:{}:'platform' }}"
                            >
                            </i>
                            <i class="fa fa-unlock-alt"
                               ng-if="field['locked'] && field['lockedEditionOnly']"
                               data-toggle="tooltip"
                               data-placement="top"
                               title="{{ 'edition_only'|trans:{}:'clacoform' }}"
                            >
                            </i>
                            <i class="fa fa-unlock"
                               ng-if="!field['locked']"
                               data-toggle="tooltip"
                               data-placement="top"
                               title="{{ 'not_locked'|trans:{}:'clacoform' }}"
                            >
                            </i>
                        </td>
                        <td class="text-center" data-title="'actions'|trans:{}:'platform'">
                            <button class="btn btn-default btn-sm" ng-click="cfc.editField(field)">
                                <i class="fa fa-pencil"></i>
                            </button>
                            <button class="btn btn-danger btn-sm" ng-click="cfc.deleteField(field)">
                                <i class="fa fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="alert alert-warning" ng-if="cfc.fields.length === 0">
                {{ 'no_field'|trans:{}:'clacoform' }}
            </div>
            <button class="btn btn-primary" ng-click="cfc.createField()">
                <i class="fa fa-plus"></i>
                {{ 'create_a_field'|trans:{}:'clacoform' }}
            </button>
        </div>
        <div class="alert alert-danger" ng-if="!cfc.canEdit()">
            {{ 'unauthorized'|trans:{}:'platform' }}
        </div>
    </div>
</div>